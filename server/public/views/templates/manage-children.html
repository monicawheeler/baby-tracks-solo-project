<header class="header" ng-include="'/views/partials/user-header.html'"></header>

<div class="select-child-wrapper view-wrapper">
    <div ng-if="vm.childList.list.length > 0">
        <h2 class="subtitle">Select a child to manage:</h2>
        <div class="input-row input-row-select">
            <select class="select input" ng-change="vm.showChildInfo = true; vm.removeChildButton = true;" ng-model="vm.selectedChild" ng-options="child as child.first_name for child in vm.childList.list">
                <option value="" disabled selected>Select Child</option>
            </select>
            <div class="arrow">
                <i class="fas fa-angle-down"></i>
            </div>
        </div><!-- .input-row -->
    </div><!-- conditional child list container -->
    <h2 class="inner-subtitle" ng-if="vm.showChildInfo">
        <span class="child-image" ng-if="vm.selectedChild.gender === 'female'">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon-55" fill-rule="evenodd" clip-rule="evenodd" image-rendering="optimizeQuality" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" viewBox="0 0 6.83 6.83">
                <g id="Layer_x0020_1">
                    <path d="M3.68 1.96h.02l.1.01V2l.33.07h.02c.36.15.67.39.88.7a1.76 1.76 0 0 1-.25 2.33c-.35.34-.85.54-1.4.54-.54 0-1.03-.2-1.39-.54a1.76 1.76 0 0 1-.25-2.34c.22-.3.53-.54.89-.68h.01L2.98 2v-.03l.1-.01h.04l.05-.01.03.03h.4l.03-.03h.05zm-.01.23H3.1l-.41.09c-.32.13-.6.34-.78.6a1.55 1.55 0 0 0 .22 2.07c.32.3.76.48 1.25.48s.93-.18 1.25-.48a1.55 1.55 0 0 0 .22-2.06 1.75 1.75 0 0 0-.78-.61l-.41-.09z" class="icon--fill-white"/>
                    <path d="M5.4 3.25c.16 0 .3.06.4.16.1.1.17.23.17.38s-.06.29-.17.38a.58.58 0 0 1-.63.11l-.08-.03.02-.1a1.53 1.53 0 0 0 0-.73l-.02-.09.08-.03a.59.59 0 0 1 .23-.05zm.26.31a.37.37 0 0 0-.32-.09 1.72 1.72 0 0 1 0 .64.37.37 0 0 0 .32-.1c.06-.05.1-.13.1-.22a.31.31 0 0 0-.1-.23zM1.42 3.25a.6.6 0 0 1 .18.03l.1.03-.03.1a1.54 1.54 0 0 0 0 .76l.03.1-.1.03a.6.6 0 0 1-.58-.13.52.52 0 0 1-.17-.38c0-.15.07-.29.17-.38.1-.1.25-.16.4-.16zm.02.22h-.02c-.1 0-.19.03-.25.1a.31.31 0 0 0-.1.22c0 .09.04.17.1.23a.37.37 0 0 0 .27.1 1.74 1.74 0 0 1 0-.65zM4.22 4.62a.92.92 0 0 1-1.69 0l.2-.08a.7.7 0 0 0 1.3 0l.2.08zM2.91 3.54a.23.23 0 0 0-.46 0h-.2a.44.44 0 0 1 .31-.42.44.44 0 0 1 .57.41H2.9zM4.32 3.54a.23.23 0 0 0-.12-.2.23.23 0 0 0-.3.09.23.23 0 0 0-.04.12h-.21a.44.44 0 0 1 .05-.22.44.44 0 0 1 .6-.18.44.44 0 0 1 .23.38h-.2zM3.19 1.2h.42a.18.18 0 0 1 .18.18v.63a.18.18 0 0 1-.18.18h-.42A.18.18 0 0 1 3 2.01v-.63a.18.18 0 0 1 .19-.18zm.4.21h-.37v.57h.36v-.57z" class="icon--fill-white"/>
                    <path d="M4.55 1.44l-.76.16V2l.76.16v-.72zm-.88-.03l.96-.2.13-.04V2.43l-.13-.03-.96-.2-.09-.03V1.43l.09-.02zM2.14 1.2l.97.2.09.03V2.17l-.09.02-.97.2-.12.04V1.17l.12.03zm.84.4l-.75-.16v.72L2.98 2v-.4z" class="icon--fill-white"/>
                    <g id="_321133672">
                    <path id="_321134584" d="M0 0h6.83v6.83H0z" class="icon--bkgd"/>
                    <path id="_321133840" d="M.85.85h5.12v5.12H.85z" class="icon--bkgd"/>
                    </g>
                </g>
            </svg>
        </span>
        <span class="child-image" ng-if="vm.selectedChild.gender === 'male'"><svg xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" image-rendering="optimizeQuality" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" viewBox="0 0 6.83 6.83">
            <g id="Layer_x0020_1">
                <g id="_321134032">
                <path id="_321133888" d="M0 0h6.83v6.83H0z" class="icon--bkgd"/>
                <path id="_321134344" d="M.85.85h5.12v5.12H.85z" class="icon--bkgd"/>
                </g>
                <g id="_321133240">
                <path id="_321132832" d="M3.39 1.89c.54 0 1.04.2 1.4.54.35.34.58.8.58 1.31 0 .52-.23.98-.59 1.32-.35.33-.85.54-1.4.54-.54 0-1.03-.21-1.39-.54a1.8 1.8 0 0 1-.58-1.32c0-.51.22-.97.58-1.31.36-.33.85-.54 1.4-.54zm1.25.7c-.32-.3-.76-.49-1.25-.49-.5 0-.93.19-1.25.49-.32.3-.52.7-.52 1.15 0 .45.2.86.52 1.16.32.3.76.48 1.25.48s.93-.18 1.25-.48c.32-.3.51-.7.51-1.16 0-.45-.2-.86-.51-1.15z" class="icon--fill-white"/>
                <path id="_321133384" d="M5.4 3.2c.16 0 .3.06.4.16.1.1.17.23.17.38s-.06.29-.17.39a.58.58 0 0 1-.63.1l-.08-.03.02-.09a1.53 1.53 0 0 0 0-.74l-.02-.08.08-.04a.59.59 0 0 1 .23-.05zm.26.32a.37.37 0 0 0-.32-.1 1.72 1.72 0 0 1 0 .64.37.37 0 0 0 .32-.1c.06-.05.1-.13.1-.22a.31.31 0 0 0-.1-.22z" class="icon--fill-white"/>
                <path id="_321133096" d="M1.42 3.2a.6.6 0 0 1 .18.03l.1.03-.03.1a1.54 1.54 0 0 0 0 .77l.03.1-.1.02a.6.6 0 0 1-.58-.12.52.52 0 0 1-.17-.39c0-.15.07-.28.17-.38.1-.1.25-.16.4-.16zm.02.22h-.02c-.1 0-.19.03-.25.1a.31.31 0 0 0-.1.22c0 .1.04.17.1.23a.37.37 0 0 0 .27.1 1.74 1.74 0 0 1 0-.65z" class="icon--fill-white"/>
                <path id="_321133072" d="M4.22 4.57a.92.92 0 0 1-1.69 0l.2-.08a.7.7 0 0 0 1.3 0l.2.08z" class="icon--fill-white"/>
                <path id="_321133528" d="M3.55 2.5c-.27.03-.54-.06-.74-.21a.99.99 0 0 1-.43-.63l.21-.03c.02.16.15.35.34.49.17.12.38.2.6.17l.02.22z" class="icon--fill-white"/>
                <path id="_321133504" d="M3.35 2.08a.63.63 0 0 1-.37-.33 1.3 1.3 0 0 1-.12-.43l.21-.02c.02.12.04.25.1.36.05.1.12.18.25.22l-.07.2z" class="icon--fill-white"/>
                <path id="_321132904" d="M3.86 2.16c-.32-.1-.33-.45-.35-.74v-.17l.2-.02.02.18c0 .22.02.49.2.55l-.07.2z" class="icon--fill-white"/>
                <path id="_321133336" d="M2.91 3.49a.23.23 0 0 0-.46 0l-.2.01a.44.44 0 0 1 .31-.43.44.44 0 0 1 .57.42H2.9z" class="icon--fill-white"/>
                <path id="_321133000" d="M4.32 3.49a.23.23 0 0 0-.12-.2.23.23 0 0 0-.3.1.23.23 0 0 0-.04.1l-.21.01a.44.44 0 0 1 .05-.22.44.44 0 0 1 .6-.17.44.44 0 0 1 .23.38h-.2z" class="icon--fill-white"/>
                </g>
            </g>
            </svg>
        </span>
        <span class="child-image" ng-if="vm.selectedChild.gender === 'neutral'">
            <svg xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" image-rendering="optimizeQuality" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" viewBox="0 0 6.83 6.83">
            <g id="Layer_x0020_1">
                <path d="M3.39 1.94c.54 0 1.04.2 1.4.54.35.33.58.8.58 1.31s-.23.98-.59 1.31c-.35.34-.85.54-1.4.54-.54 0-1.03-.2-1.39-.54a1.8 1.8 0 0 1-.58-1.31c0-.51.22-.98.58-1.31.36-.34.85-.54 1.4-.54zm1.25.7c-.32-.3-.76-.49-1.25-.49-.5 0-.93.18-1.25.48-.32.3-.52.7-.52 1.16 0 .45.2.86.52 1.16.32.3.76.48 1.25.48s.93-.18 1.25-.48c.32-.3.51-.7.51-1.16 0-.45-.2-.86-.51-1.16z" class="icon--fill-white"/>
                <path d="M5.4 3.25c.16 0 .3.06.4.16.1.1.17.23.17.38s-.06.29-.17.38a.58.58 0 0 1-.63.11l-.08-.03.02-.1a1.53 1.53 0 0 0 0-.73l-.02-.09.08-.03a.59.59 0 0 1 .23-.05zm.26.31a.37.37 0 0 0-.32-.09 1.72 1.72 0 0 1 0 .64.37.37 0 0 0 .32-.1c.06-.05.1-.13.1-.22a.31.31 0 0 0-.1-.23zM1.42 3.25a.6.6 0 0 1 .18.03l.1.03-.03.1a1.54 1.54 0 0 0 0 .76l.03.1-.1.03a.6.6 0 0 1-.58-.13.52.52 0 0 1-.17-.38c0-.15.07-.29.17-.38.1-.1.25-.16.4-.16zm.02.22h-.02c-.1 0-.19.03-.25.1a.31.31 0 0 0-.1.22c0 .09.04.17.1.23a.37.37 0 0 0 .27.1 1.74 1.74 0 0 1 0-.65zM4.3 4.5a.97.97 0 0 1-.91.62.97.97 0 0 1-.92-.6l-.06-.16H4.37l-.07.15zm-.6.35a.76.76 0 0 0 .33-.28H2.75c.08.13.2.22.33.28a.8.8 0 0 0 .61 0zM3.55 2.55c-.27.03-.54-.07-.74-.21a.99.99 0 0 1-.43-.64l.21-.02c.02.16.15.35.34.48.17.12.38.2.6.18l.02.21zM3.35 2.13a.63.63 0 0 1-.37-.33 1.3 1.3 0 0 1-.12-.43l.21-.03c.02.13.04.26.1.37.05.1.12.18.25.22l-.07.2zM3.86 2.2c-.32-.1-.33-.45-.35-.73V1.3l.2-.02.02.18c0 .22.02.49.2.55l-.07.2z" class="icon--fill-white"/>
                <g id="_321122368">
                <path id="_321122704" d="M4.12 3.1a.32.32 0 0 1 .23.54.32.32 0 0 1-.55-.23.32.32 0 0 1 .32-.32zm.08.24a.1.1 0 0 0-.18.07.1.1 0 0 0 .18.08.1.1 0 0 0 0-.15z" class="icon--fill-white"/>
                <path id="_321122152" d="M2.63 3.1a.32.32 0 0 1 .23.54.32.32 0 0 1-.55-.23.32.32 0 0 1 .32-.32zm.08.24a.1.1 0 0 0-.19.07.1.1 0 0 0 .19.08.1.1 0 0 0 0-.15z" class="icon--fill-white"/>
                </g>
                <g id="_321121456">
                <path id="_321122728" d="M0 0h6.83v6.83H0z" class="icon--bkgd"/>
                <path id="_321121672" d="M.85.85h5.12v5.12H.85z" class="icon--bkgd"/>
                </g>
            </g>
            </svg>
        </span>
        <div class="inner-subtitle-child">
            {{vm.selectedChild.first_name}}
            <!-- <div class="inner-subtitle-small">{{vm.selectedChild.dob | amUtc | amLocal | amDateFormat:'MMM D, YYYY'}}</div> -->
        </div>
    </h2> <!-- .inner-subtitle -->
    <div class="input-row" ng-if="vm.removeChildButton">
        <input class="btn btn-warn" ng-click="vm.deleteChild(vm.selectedChild.id, vm.selectedChild.family_id)" type="submit" name="submit" value="Remove {{vm.selectedChild.first_name}} from Tracking" />
    </div>
    <div class="input-row">
        <input class="btn btn-alt" ng-click="vm.showAddChild = true" type="button" name="add-child" value="Add New Child" />
    </div>
</div><!-- .select-child-wrapper -->
<div class="add-children-wrapper fade" ng-if="vm.showAddChild">
    <div class="add-children-inner">
        <div class="add-child">
            <h2 class="input-alert alert-message" role="alert" ng-if="vm.message != ''">{{vm.message}}</h2>
            <h2 class="add-child-header">Add Child</h2>
            <form class="input-form form" ng-submit="vm.addChild(vm.child, vm.selectedChild.family_id); vm.showAddChild=false;">
                <div class="input-row">
                    <label class="input-label" for="first_name">First Name<span class="input-required">*</span></label>
                    <input class="input" type="text" required ng-model="vm.child.first_name" placeholder="First Name" />
                </div>
                <div class="input-row">
                    <label class="input-label" for="dob">Born<span class="input-required">*</span></label>
                    <input class="input" type="date" required ng-model="vm.child.dob" placeholder="MM/DD/YYYY" />
                </div>
                <div class="input-row">
                    <label class="input-label" for="gender">Gender<span class="input-required">*</span></label>
                    <div class="input-row-select">
                        <select class="select input" ng-model="vm.child.gender">
                            <option value="" disabled selected>Select Gender</option>
                            <option value="female">Female</option>
                            <option value="male">Male</option>
                            <option value="neutral">Neutral</option>
                        </select>
                        <div class="arrow">
                            <i class="fas fa-angle-down"></i>
                        </div>
                    </div>
                </div>
                <div class="input-row">
                    <input class="btn btn-alt" type="submit" name="submit" value="Add Child" />
                    <input class="btn btn-warn" ng-click="vm.showAddChild=false;" type="button" name="cancel" value="Cancel" />
                </div>
            </form><!-- .input-form -->
        </div><!-- .add-child -->
    </div><!-- .add-child-inner -->
</div><!-- .add-children-wrapper -->
